webpackJsonp([0,17],{8:function(t,e,r){var i=r(35)("wks"),n=r(37),s=r(7).Symbol,a="function"==typeof s,o=t.exports=function(t){return i[t]||(i[t]=a&&s[t]||(a?s:n)("Symbol."+t))};o.store=i},13:function(t,e){t.exports={}},14:function(t,e,r){t.exports={"default":r(15),__esModule:!0}},15:function(t,e,r){var i=r(6),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},25:function(t,e){t.exports=pingpp},31:function(t,e,r){"use strict";var i=r(70),n=r(29),s=r(78),a=r(9),o=r(12),c=r(13),l=r(68),d=r(34),u=r(75),f=r(8)("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",_="values",v=function(){return this};t.exports=function(t,e,r,g,w,y,b){l(r,e,g);var x,k,C,O=function(t){if(!h&&t in j)return j[t];switch(t){case m:return function(){return new r(this,t)};case _:return function(){return new r(this,t)}}return function(){return new r(this,t)}},I=e+" Iterator",S=w==_,A=!1,j=t.prototype,M=j[f]||j[p]||w&&j[w],P=M||O(w),F=w?S?O("entries"):P:void 0,T="Array"==e?j.entries||M:M;if(T&&(C=u(T.call(new t)),C!==Object.prototype&&(d(C,I,!0),i||o(C,f)||a(C,f,v))),S&&M&&M.name!==_&&(A=!0,P=function(){return M.call(this)}),i&&!b||!h&&!A&&j[f]||a(j,f,P),c[e]=P,c[I]=v,w)if(x={values:S?P:O(_),keys:y?P:O(m),entries:F},b)for(k in x)k in j||s(j,k,x[k]);else n(n.P+n.F*(h||A),e,x);return x}},34:function(t,e,r){var i=r(19).f,n=r(12),s=r(8)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},55:function(t,e,r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=r(14),s=i(n),a=r(56),o=i(a),c=r(4),l=i(c),d=r(5),u=i(d),f=r(25),h=i(f),p=r(3);e["default"]={activated:function(){this.wareInfo(this.$route.params.wareId),this.orderInit(),this.orderWares(this.ware),this.order.price=5,this.getAddress();var t=new Date;(0,u["default"])("#datetime-picker").datetimePicker({value:[t.getFullYear(),t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),t.getDate()>9?t.getDate():"0"+t.getDate(),"11","30"]})},data:function(){return{address:"",wx:navigator.userAgent.toLowerCase().indexOf("micromessenger")!==-1}},computed:(0,l["default"])({},(0,p.mapGetters)({user:"getUserInfo",ware:"getWareInfo",order:"getOrderInfo"})),methods:(0,l["default"])({},(0,p.mapActions)(["wareInfo","orderInit","orderWares"]),{getAddress:function(){var t=!0,e=!1,r=void 0;try{for(var i,n=(0,o["default"])(this.user.addresses);!(t=(i=n.next()).done);t=!0){var s=i.value;1===s.state&&(this.address=s)}}catch(a){e=!0,r=a}finally{try{!t&&n["return"]&&n["return"]()}finally{if(e)throw r}}},orderMessage:function(){var t=this;u["default"].prompt("您有什么要求呢？",function(e){e!==(0,u["default"])("#order-message").text()&&((0,u["default"])("#order-message").text(e),t.order.msg=e)},function(){return u["default"].toast("您没有保存要求")}),(0,u["default"])(".modal-text-input").val((0,u["default"])("#order-message").text())},pay:function(){if(this.user.nickname){if((0,u["default"])("#alipay").is(":checked")?this.order.payway=1:this.order.payway=0,!(0,u["default"])("#address-id").length)return u["default"].toast("请先添加地址");this.order.addressId=(0,u["default"])("#address-id").data("addressId"),u["default"].ajax({type:"post",url:"/request/ware/pay",data:{order:(0,s["default"])(this.order)},success:function(t){h["default"].createPayment(t,function(t,e){"success"===t?console.log("success"):"fail"===t?console.log("fail"):"cancel"===t&&console.log("cancel")})}})}else u["default"].toast("请先登录")}})}},56:function(t,e,r){t.exports={"default":r(59),__esModule:!0}},59:function(t,e,r){r(88),r(87),t.exports=r(84)},62:function(t,e){t.exports=function(){}},64:function(t,e,r){var i=r(26),n=r(8)("toStringTag"),s="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(r){}};t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=a(e=Object(t),n))?r:s?i(e):"Object"==(o=i(e))&&"function"==typeof e.callee?"Arguments":o}},66:function(t,e,r){t.exports=r(7).document&&document.documentElement},68:function(t,e,r){"use strict";var i=r(72),n=r(33),s=r(34),a={};r(9)(a,r(8)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=i(a,{next:n(1,r)}),s(t,e+" Iterator")}},69:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},70:function(t,e){t.exports=!0},72:function(t,e,r){var i=r(10),n=r(73),s=r(28),a=r(20)("IE_PROTO"),o=function(){},c="prototype",l=function(){var t,e=r(27)("iframe"),i=s.length,n="<",a=">";for(e.style.display="none",r(66).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(n+"script"+a+"document.F=Object"+n+"/script"+a),t.close(),l=t.F;i--;)delete l[c][s[i]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(o[c]=i(t),r=new o,o[c]=null,r[a]=t):r=l(),void 0===e?r:n(r,e)}},73:function(t,e,r){var i=r(19),n=r(10),s=r(32);t.exports=r(11)?Object.defineProperties:function(t,e){n(t);for(var r,a=s(e),o=a.length,c=0;o>c;)i.f(t,r=a[c++],e[r]);return t}},75:function(t,e,r){var i=r(12),n=r(36),s=r(20)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},78:function(t,e,r){t.exports=r(9)},79:function(t,e,r){var i=r(21),n=r(16);t.exports=function(t){return function(e,r){var s,a,o=String(n(e)),c=i(r),l=o.length;return c<0||c>=l?t?"":void 0:(s=o.charCodeAt(c),s<55296||s>56319||c+1===l||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):s:t?o.slice(c,c+2):(s-55296<<10)+(a-56320)+65536)}}},83:function(t,e,r){var i=r(64),n=r(8)("iterator"),s=r(13);t.exports=r(6).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||s[i(t)]}},84:function(t,e,r){var i=r(10),n=r(83);t.exports=r(6).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},85:function(t,e,r){"use strict";var i=r(62),n=r(69),s=r(13),a=r(22);t.exports=r(31)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},87:function(t,e,r){"use strict";var i=r(79)(!0);r(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=i(e,r),this._i+=t.length,{value:t,done:!1})})},88:function(t,e,r){r(85);for(var i=r(7),n=r(9),s=r(13),a=r(8)("toStringTag"),o=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=o[c],d=i[l],u=d&&d.prototype;u&&!u[a]&&n(u,a,l),s[l]=s.Array}},104:function(t,e,r){e=t.exports=r(1)(),e.push([t.id,"#wareOrder .content{background-color:#fdfefe}#wareOrder header a{color:#222}#wareOrder .address{text-align:center;line-height:2.2rem}#wareOrder:not(.watch-active-state) .list-block .item-link:active{background-color:#fcfcfc}.picker-modal .bar .button-link{color:#fff}.picker-modal .bar .title{color:#222!important}.order-about{margin:0}.order-about i{font-style:normal;padding:0 .4rem;width:28%;box-sizing:border-box}.order-about span{width:72%}#order-now{width:100%;height:2.5rem;position:fixed;bottom:0;line-height:2.5rem;z-index:99}#order-now .list-block{margin:0;width:70%;color:#222}#order-now .list-block,#order-now .list-block .item-inner:after{background-color:#1a7ace}#order-now .item-inner{padding:0 .6rem 0 0;box-sizing:border-box}@media screen and (min-width:614px){#order-now{width:24rem;margin:0 auto}}.distributionFee{text-align:right;font-size:.65rem;margin:.2rem 1rem}.order-list-wrap{margin-top:3rem;padding-bottom:2.9rem}.pay-way-title{font-size:.65rem;margin:.2rem 1rem}.pay-way label.label-checkbox.active-state,html:not(.watch-active-state) .pay-way label.label-checkbox:active{background-color:#fcfcfc}",""])},122:function(t,e,r){var i=r(104);"string"==typeof i&&(i=[[t.id,i,""]]);r(2)(i,{});i.locals&&(t.exports=i.locals)},142:function(t,e,r){var i,n;r(122),i=r(55);var s=r(159);n=i=i||{},"object"!=typeof i["default"]&&"function"!=typeof i["default"]||(n=i=i["default"]),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,t.exports=i},159:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"view",attrs:{id:"wareOrder"}},[_h("header",{staticClass:"bar bar-nav"},[_h("router-link",{staticClass:"icon icon-left pull-left",attrs:{to:{path:"/ware/"+this.$route.params.wareId}}}),_m(0)]),_h("div",{staticClass:"content"},[_h("div",{staticClass:"content-inner"},[_h("header",{staticClass:"address bar bar-nav bar-sec row"},[_h("div",[this.address?_h("router-link",{attrs:{id:"address-id",to:{path:"/person/addresses?backurl=/order/"+this.$route.params.wareId},"data-address-id":address._id}},[_s(address.site)]):_h("router-link",{attrs:{to:{path:"/person/addresses",query:{backurl:"/order/"+this.$route.params.wareId}}}},["添加收货地址"])])]),_h("div",{staticClass:"order-list-wrap"},[_h("div",{staticClass:"content-inner"},[_h("ul",{staticClass:"order-list list-block media-list"},[_l(order.wares,function(t){return _h("li",[_h("label",{staticClass:"label-checkbox item-content"},[_h("div",{staticClass:"item-media"},[_h("img",{attrs:{src:t.info.img}})]),_h("div",{staticClass:"item-inner"},[_h("div",{staticClass:"item-title"},[_s(t.info.nameEn)]),_h("div",{staticClass:"item-subtitle"},[_s(t.info.name)]),_h("div",{staticClass:"item-subtitle"},["规格："+_s(t.weight)]),_h("div",{staticClass:"item-text pull-left"},["￥"+_s(t.info.price)+"/磅"])])])])})]),_h("div",{staticClass:"order-about list-block"},[_h("ul",[_m(1),_m(2),_h("li",{staticClass:"item-content item-link"},[_h("div",{staticClass:"item-inner"},[_m(3),_h("span",{attrs:{id:"order-message"},on:{click:orderMessage}},["请填写您对商品的特殊要求"])])])]),_m(4),_h("div",[_m(5),_h("ul",{staticClass:"pay-way"},[wx?_h("li",[_h("label",{staticClass:"label-checkbox item-content"},[_h("input",{attrs:{id:"wxpay",type:"radio",name:"my-radio"},domProps:{checked:!!wx}}),_m(6),_m(7)])]):_e(),_h("li",[_h("label",{staticClass:"label-checkbox item-content"},[_h("input",{attrs:{id:"alipay",type:"radio",name:"my-radio"},domProps:{checked:!wx}}),_m(8),_m(9)])])])])])])])]),_h("div",{attrs:{id:"order-now"}},[_h("div",{staticClass:"list-block media-list pull-left"},[_h("label",{staticClass:"label-checkbox item-content"},[_h("div",{staticClass:"item-inner"},[_h("div",{staticClass:"pull-right"},["共￥"+_s(order.price)])])])]),_h("div",{staticClass:"order",attrs:{id:"pay"},on:{click:pay}},["下单"])])])])},staticRenderFns:[function(){with(this)return _h("h1",{staticClass:"title"},["订单确认"])},function(){with(this)return _h("li",{staticClass:"item-content item-link"},[_h("div",{staticClass:"item-inner"},[_h("i",["送货时间"]),_h("span",[_h("input",{attrs:{id:"datetime-picker",type:"text"}})])])])},function(){with(this)return _h("li",{staticClass:"item-content item-link"},[_h("div",{staticClass:"item-inner"},[_h("i",["优惠券"]),_h("span",["0张可用"])])])},function(){with(this)return _h("i",["订单留言"])},function(){with(this)return _h("div",{staticClass:"distributionFee"},["配送费￥10.00"])},function(){with(this)return _h("div",{staticClass:"pay-way-title"},["支付方式"])},function(){with(this)return _h("div",{staticClass:"item-media"},[_h("i",{staticClass:"icon icon-form-checkbox"})])},function(){with(this)return _h("div",{staticClass:"item-inner"},[_h("div",{staticClass:"item-title-row"},[_h("div",{staticClass:"item-title"},["微信支付"])])])},function(){with(this)return _h("div",{staticClass:"item-media"},[_h("i",{staticClass:"icon icon-form-checkbox"})])},function(){with(this)return _h("div",{staticClass:"item-inner"},[_h("div",{staticClass:"item-title-row"},[_h("div",{staticClass:"item-title"},["支付宝"])])])}]}}});