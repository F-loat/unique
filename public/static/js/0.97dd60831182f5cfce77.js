webpackJsonp([0,17],{3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getUserInfo=function(e){return e.user},t.getWaresInfo=function(e){return e.wares},t.getWareInfo=function(e){return e.ware},t.getOrderInfo=function(e){return e.order}},7:function(e,t,i){e.exports={"default":i(8),__esModule:!0}},8:function(e,t,i){var r=i(9),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},9:function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},29:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=r(a),d=i(4),o=r(d),n=i(105),l=r(n),c=i(5),u=i(3);t["default"]={attached:function(){this.wareInfo(this.$route.params.wareId),this.orderInit(),this.orderWares(this.ware),this.order.price=5;var e=new Date;(0,o["default"])("#datetime-picker").datetimePicker({value:[e.getFullYear(),e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),e.getDate()>9?e.getDate():"0"+e.getDate(),"11","30"]})},vuex:{actions:{wareInfo:c.wareInfo,orderInit:c.orderInit,orderWares:c.orderWares},getters:{user:u.getUserInfo,ware:u.getWareInfo,order:u.getOrderInfo}},methods:{orderMessage:function(){var e=this;o["default"].prompt("您有什么要求呢？",function(t){t!==(0,o["default"])("#order-message").text()&&((0,o["default"])("#order-message").text(t),e.order.msg=t)},function(){return o["default"].toast("您没有保存要求")}),(0,o["default"])(".modal-text-input").val((0,o["default"])("#order-message").text())},pay:function(){if(this.user.nickname){if((0,o["default"])("#alipay").is(":checked")?this.order.payway=1:this.order.payway=0,!(0,o["default"])("#address-id").length)return o["default"].toast("请先添加地址");this.order.addressId=(0,o["default"])("#address-id").data("addressId"),o["default"].ajax({type:"post",url:"/request/ware/pay",data:{order:(0,s["default"])(this.order)},success:function(e){l["default"].createPayment(e,function(e,t){})}})}else o["default"].toast("请先登录")}}}},47:function(e,t,i){t=e.exports=i(1)(),t.push([e.id,"#wareOrder .content{background-color:#fdfefe}#wareOrder header a{color:#222}#wareOrder .address{text-align:center;line-height:2.2rem}#wareOrder:not(.watch-active-state) .list-block .item-link:active{background-color:#fcfcfc}.picker-modal .bar .button-link{color:#fff}.picker-modal .bar .title{color:#222!important}.order-about{margin:0}.order-about i{font-style:normal;padding:0 .4rem;width:28%;box-sizing:border-box}.order-about span{width:72%}#order-now{width:100%;height:2.5rem;position:absolute;bottom:0;left:0;line-height:2.5rem}#order-now .list-block{margin:0;width:70%;color:#222}#order-now .list-block,#order-now .list-block .item-inner:after{background-color:#1a7ace}#order-now .item-inner{padding:0 .6rem 0 0;box-sizing:border-box}.distributionFee{text-align:right;font-size:.65rem;margin:.2rem 1rem}.order-list-wrap{margin-top:3rem;padding-bottom:2.9rem}.pay-way-title{font-size:.65rem;margin:.2rem 1rem}.pay-way label.label-checkbox.active-state,html:not(.watch-active-state) .pay-way label.label-checkbox:active{background-color:#fcfcfc}",""])},65:function(e,t,i){var r=i(47);"string"==typeof r&&(r=[[e.id,r,""]]);i(2)(r,{});r.locals&&(e.exports=r.locals)},84:function(e,t){e.exports='<div class=view id=wareOrder><header class="bar bar-nav"><a class="icon icon-left pull-left" v-link="{ path: \'/ware/\' + this.$route.params.wareId }"></a><h1 class=title>订单确认</h1></header><div class=content><div class=content-inner><header class="address bar bar-nav bar-sec row"><div><a v-link="{ path: \'/person/addresses\' }" v-if="user.addresses.length===0">选择收货地址</a><a id=address-id v-link="{ path: \'/person/addresses\' }" v-else=v-else v-for="address in user.addresses" data-address-id={{address._id}} v-if="address.state===1">{{address.site}}</a></div></header><div class=order-list-wrap><div class=content-inner><ul class="order-list list-block media-list"><li v-for="ware in order.wares"><label class="label-checkbox item-content"><div class=item-media><img v-bind:src=ware.info.img /></div><div class=item-inner><div class=item-title>{{ware.info.nameEn}}</div><div class=item-subtitle>{{ware.info.name}}</div><div class=item-subtitle>规格：{{ware.weight}}</div><div class="item-text pull-left">￥{{ware.info.price}}/磅</div></div></label></li></ul><div class="order-about list-block"><ul><li class="item-content item-link"><div class=item-inner><i>送货时间</i><span><input id=datetime-picker type=text /></span></div></li><li class="item-content item-link"><div class=item-inner><i>优惠券</i><span>0张可用</span></div></li><li class="item-content item-link"><div class=item-inner><i>订单留言</i><span id=order-message v-on:click=orderMessage>请填写您对商品的特殊要求</span></div></li></ul><div class=distributionFee>配送费￥10.00</div><div><div class=pay-way-title>支付方式</div><ul class=pay-way><li><label class="label-checkbox item-content"><input id=alipay type=radio name=my-radio checked=checked /><div class=item-media><i class="icon icon-form-checkbox"></i></div><div class=item-inner><div class=item-title-row><div class=item-title>支付宝</div></div></div></label></li><li><label class="label-checkbox item-content"><input type=radio name=my-radio /><div class=item-media><i class="icon icon-form-checkbox"></i></div><div class=item-inner><div class=item-title-row><div class=item-title>微信支付</div></div></div></label></li></ul></div></div></div></div></div><div id=order-now><div class="list-block media-list pull-left"><label class="label-checkbox item-content"><div class=item-inner><div class=pull-right>共￥{{order.price}}</div></div></label></div><div class=order id=pay v-on:click=pay>下单</div></div></div></div>'},102:function(e,t,i){var r,a;i(65),r=i(29),a=i(84),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},105:function(e,t){e.exports=pingpp}});